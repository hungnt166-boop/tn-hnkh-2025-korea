<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="theme-color" content="#0B1B2B">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="manifest" href="manifest.webmanifest">
<link rel="apple-touch-icon" href="icon-192.png">
<title>TN HNKH 2025 KOREA</title>
<style>
:root{
  --brand-primary:#0B1B2B; --brand-accent:#C7A34B;
  --bg:#0A1420; --card:#0F1E30; --text:#EAF2FF; --muted:#93a4b8;
  --radius:18px; --shadow:0 10px 30px rgba(0,0,0,.25);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
.wrap{max-width:980px;margin:0 auto;padding:16px 16px 96px}
a{color:inherit;text-decoration:none}
header{position:sticky;top:0;z-index:5;backdrop-filter:saturate(1.1) blur(8px);
  background:linear-gradient(180deg,rgba(11,27,43,.95),rgba(11,27,43,.7) 70%,rgba(11,27,43,0));border-bottom:1px solid rgba(255,255,255,.06)}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:12px 16px}
.brand{display:flex;align-items:center;gap:10px}
.logo{width:34px;height:34px;border-radius:10px;background:conic-gradient(from 180deg,var(--brand-accent),#0000 70%),linear-gradient(135deg,var(--brand-accent) 0%,#8e6f2c 100%);box-shadow:var(--shadow)}
.brand h1{font-size:16px;letter-spacing:.3px;margin:0}
.actions{display:flex;gap:8px}
.btn{cursor:pointer;border:0;border-radius:12px;padding:10px 14px;font-weight:600;
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.02));color:var(--text);box-shadow:var(--shadow);transition:.2s transform}
.btn:active{transform:translateY(1px)}
.btn.primary{background:linear-gradient(180deg,rgba(199,163,75,.9),rgba(199,163,75,.7));color:#0b0f14}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,.12)}
.nav{display:flex;gap:8px;overflow:auto;padding:0 16px 12px}
.chip{white-space:nowrap;border:1px solid rgba(255,255,255,.08);padding:8px 12px;border-radius:999px;font-size:13px;opacity:.9}
.chip.active{background:var(--brand-accent);color:#0b0f14;border-color:transparent}
.card{background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px}
.grid{display:grid;gap:12px}
@media(min-width:720px){.grid{grid-template-columns:repeat(2,1fr)}}
.acc{border-radius:var(--radius);overflow:hidden;border:1px solid rgba(255,255,255,.06);margin-top:12px}
.acc summary{list-style:none;cursor:pointer;padding:14px 16px;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03));
  font-weight:700;display:flex;align-items:center;gap:10px}
.acc summary::-webkit-details-marker{display:none}
.acc .content{padding:12px 16px;background:var(--card)}
.k{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.12em}
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:10px;border-bottom:1px dashed rgba(255,255,255,.08);vertical-align:top}
.table th{color:var(--muted);font-weight:600;font-size:12px;text-transform:uppercase}
.badge{display:inline-flex;gap:6px;align-items:center;padding:4px 10px;border-radius:999px;background:rgba(199,163,75,.18);color:var(--brand-accent);font-weight:700;font-size:12px}
.mono{font-variant-numeric:tabular-nums;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace}
.muted{color:var(--muted)}
.toolbar{display:flex;gap:8px;margin:12px 0}
.search{flex:1;display:flex;align-items:center;gap:8px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:10px 12px}
.search input{flex:1;background:transparent;border:0;outline:none;color:var(--text)}
.pill{padding:8px 10px;border-radius:12px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);font-size:12px;color:var(--muted)}
.footer{position:fixed;inset:auto 0 0 0;background:linear-gradient(180deg,rgba(11,27,43,0),rgba(11,27,43,.9));display:flex;gap:8px;justify-content:center;padding:12px}
.hint{font-size:12px;color:var(--muted)}
.ring:focus{outline:none;box-shadow:0 0 0 2px inset var(--brand-accent)}
</style>
</head>
<body>
<header>
  <div class="topbar">
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <h1>TN HNKH 2025 KOREA</h1>
    </div>
    <div class="actions">
      <button class="btn ghost ring" id="themeBtn">ƒê·ªïi giao di·ªán</button>
      <button class="btn primary ring" id="installBtn" hidden>C√†i v√†o m√†n h√¨nh</button>
    </div>
  </div>
  <div class="nav" id="nav"></div>
</header>

<main class="wrap">
  <div class="toolbar">
    <div class="search">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 21l-4.2-4.2M10.8 18a7.2 7.2 0 1 1 0-14.4 7.2 7.2 0 0 1 0 14.4Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      <input id="q" type="search" placeholder="T√¨m: li√™n h·ªá, l·ªãch tr√¨nh, Everland, 112, ‚Ä¶" autocomplete="off"/>
    </div>
    <div class="pill">HTTPS + m·ªü 1 l·∫ßn ‚Üí c√†i app & xem offline</div>
  </div>

  <details class="acc" open>
    <summary>üìû Li√™n h·ªá nhanh <span class="pill" style="margin-left:6px">Ban T·ªï Ch·ª©c & H·ªó tr·ª£</span></summary>
    <div class="content grid" id="contacts"></div>
  </details>

  <details class="acc" open>
    <summary>üß≠ L∆∞u √Ω & Th√¥ng tin bay</summary>
    <div class="content">
      <div class="grid">
        <div class="card">
          <div class="k">Th·ªùi gian</div>
          <div><strong>06 ng√†y 05 ƒë√™m</strong> ‚Ä¢ 14/11/2025 ‚Üí 19/11/2025</div>
          <div class="hint">Bay Vietnam Airlines</div>
        </div>
        <div class="card">
          <div class="k">Chuy·∫øn bay</div>
          <div class="mono">HAN ‚Üí PUS: VN428 (00:25 ‚Üí 06:10) ‚Ä¢ 15/11/2025</div>
          <div class="mono">ICN ‚Üí HAN: VN415 (18:05 ‚Üí 20:55) ‚Ä¢ 19/11/2025</div>
        </div>
        <div class="card">
          <div class="k">H√†nh l√Ω</div>
          <ul style="margin:.5em 0 0 1em">
            <li>X√°ch tay: 1 ki·ªán ‚â§ <b>12kg</b></li>
            <li>K√Ω g·ª≠i: 1 ki·ªán ‚â§ <b>23kg</b></li>
            <li>Pin d·ª± ph√≤ng ‚â§ <b>100Wh / 20.000mAh</b> (x√°ch tay, kh√¥ng d√πng tr√™n m√°y bay)</li>
          </ul>
        </div>
        <div class="card">
          <div class="k">S·ªë kh·∫©n c·∫•p</div>
          <div class="grid">
            <div class="badge">112 ‚Ä¢ C·∫£nh s√°t</div>
            <div class="badge">119 ‚Ä¢ C·ª©u h·ªèa/C·∫•p c·ª©u</div>
            <div class="badge">1330 ‚Ä¢ Du l·ªãch (c√≥ TVi·ªát)</div>
          </div>
          <div class="hint" style="margin-top:8px">ƒêSQ VN t·∫°i HQ: +82-2-7392065 ‚Ä¢ 28-58 Samcheong-dong, Jongno-gu, Seoul</div>
        </div>
      </div>
    </div>
  </details>

  <details class="acc" open>
    <summary>üó∫Ô∏è L·ªãch tr√¨nh 6 ng√†y</summary>
    <div class="content" id="itinerary"></div>
  </details>

  <details class="acc">
    <summary>üçΩÔ∏è Th·ª±c ƒë∆°n theo ng√†y</summary>
    <div class="content" id="menus"></div>
  </details>

  <details class="acc">
    <summary>üåè Th√¥ng tin H√†n Qu·ªëc</summary>
    <div class="content" id="krinfo"></div>
  </details>

  <details class="acc">
    <summary>üí¨ C√¢u giao ti·∫øp nhanh (vi ‚Ä¢ han ‚Ä¢ phi√™n √¢m)</summary>
    <div class="content">
      <table class="table" id="phrases">
        <thead><tr><th>Ti·∫øng Vi·ªát</th><th>Ti·∫øng H√†n</th><th>Phi√™n √¢m</th><th></th></tr></thead>
        <tbody></tbody>
      </table>
      <div class="hint">üîä Ph√°t √¢m d√πng Web Speech API (tr√¨nh duy·ªát h·ªó tr·ª£).</div>
    </div>
  </details>

  <p class="hint" style="margin-top:16px">Tip: d√πng √¥ t√¨m ki·∫øm ƒë·ªÉ l·ªçc nhanh.</p>
</main>

<div class="footer">
  <button class="btn ghost ring" id="compactBtn">Thu g·ªçn m·ª•c</button>
  <button class="btn ghost ring" id="offlineBtn">B·∫≠t xem offline</button>
  <button class="btn primary ring" id="installNow" hidden>C√†i ngay</button>
</div>

<script>
/* DATA */
const DATA = {
  contacts: [
    { group:"ƒê·∫°i di·ªán BTC", name:"Chu VƒÉn V∆∞·ª£ng", role:"Tr∆∞·ªüng ph√≤ng Nh√¢n s·ª±", phone:"0982718515" },
    { group:"ƒê·∫°i di·ªán BTC", name:"Nguy·ªÖn H·ªìng Th·ªßy", role:"Ph√≥ ph√≤ng Nh√¢n s·ª±", phone:"0942026025" },
    { group:"H·ªó tr·ª£ xe 1", name:"Nguy·ªÖn ƒê√¨nh Du·∫©n", role:"Tr∆∞·ªüng nh√≥m KD mi·ªÅn Trung", phone:"0943122885" },
    { group:"H·ªó tr·ª£ xe 2", name:"L√™ ƒê·ª©c Anh", role:"NV KD mi·ªÅn Nam", phone:"0968493495" },
    { group:"H·ªó tr·ª£ xe 3", name:"Ph·∫°m Thanh S∆°n", role:"NV KD mi·ªÅn B·∫Øc", phone:"0973903904" },
    { group:"H·ªó tr·ª£ xe 3", name:"V∆∞∆°ng M·∫°nh ƒê·∫°t", role:"NV KD mi·ªÅn B·∫Øc", phone:"0343618998" },
    { group:"", name:"Nguy·ªÖn Thanh S∆°n", role:"Tr∆∞·ªüng nh√≥m KD mi·ªÅn B·∫Øc", phone:"0943663968" },
    { group:"", name:"", role:"Ho√†ng Trung Phong ‚Ä¢ GƒêKD", phone:"0986969160" },
    { group:"", name:"ƒê·ªó Th·ªã Ch√∫c", role:"Tr∆∞·ªüng nh√≥m Admin - P.KD", phone:"0862141090" },
  ],
  itinerary: [
    { day:"NG√ÄY 1 ‚Ä¢ 14/11 (Th·ª© S√°u) ‚Äì H√† N·ªôi ‚ñ∂ Busan",
      items:[
        "19:00‚Äì19:30 T·∫≠p trung t·∫°i Nh√† m√°y TN, di chuy·ªÉn ra s√¢n bay",
        "00:25 C·∫•t c√°nh VN428 HAN‚ÜíPUS",
        "06:10‚Äì07:30 H·∫° c√°nh & nh·∫≠p c·∫£nh Kimhae",
        "07:30‚Äì08:30 ƒÇn s√°ng",
        "08:30‚Äì11:00 L√†ng vƒÉn h√≥a Gamcheon",
        "11:00‚Äì12:00 Haeundae Blueline (t√†u ray ng·∫Øm bi·ªÉn)",
        "12:00‚Äì13:30 ƒÇn tr∆∞a",
        "13:30‚Äì14:30 ƒê·ªÅn Haedong Yongungsa",
        "15:30‚Äì18:00 Ch·ª£ c√° Jagalchi",
        "18:00‚Äì19:30 ƒÇn t·ªëi",
        "19:30 V·ªÅ kh√°ch s·∫°n Busan"
      ]},
    { day:"NG√ÄY 2 ‚Ä¢ 15/11 (Th·ª© B·∫£y) ‚Äì Busan ‚ñ∂ Seoul ‚ñ∂ Nami",
      items:[
        "06:00‚Äì07:00 ƒÇn s√°ng ‚Ä¢ 07:00‚Äì08:00 Tr·∫£ ph√≤ng",
        "08:00‚Äì11:00 Di chuy·ªÉn Busan‚ÜíSeoul (t√†u/xe)",
        "12:30‚Äì14:30 ƒÇn tr∆∞a",
        "14:30‚Äì17:30 Tham quan ƒë·∫£o Nami",
        "T·ªëi: ƒÇn t·ªëi ‚Ä¢ V·ªÅ kh√°ch s·∫°n Seoul"
      ]},
    { day:"NG√ÄY 3 ‚Ä¢ 17/11 (Th·ª© Hai) ‚Äì Seoul",
      items:[
        "S√°ng: ƒÇn s√°ng",
        "08:30‚Äì12:00 Trung t√¢m Nh√¢n s√¢m HQ ‚Ä¢ C·ª≠a h√†ng m·ªπ ph·∫©m",
        "12:00‚Äì13:30 ƒÇn tr∆∞a",
        "13:30‚Äì17:00 C√¥ng vi√™n Everland",
        "18:00‚Äì21:00 ƒÇn t·ªëi + tr·∫£i nghi·ªám t·∫Øm h∆°i Jimjilbang ‚Ä¢ Ngh·ªâ ƒë√™m Seoul"
      ]},
    { day:"NG√ÄY 4 ‚Ä¢ 18/11 (Th·ª© Ba) ‚Äì Seoul ‚Ä¢ Gala",
      items:[
        "S√°ng: ƒÇn s√°ng",
        "08:30‚Äì11:30 Mi·ªÖn thu·∫ø (tinh d·∫ßu th√¥ng ƒë·ªè, Shilla‚Ä¶)",
        "12:30‚Äì14:00 Cung ƒëi·ªán Gyeongbok",
        "14:00‚Äì15:00 B·∫£o t√†ng D√¢n gian Seoul",
        "15:00‚Äì15:15 Nh√† Xanh ‚Äì Dinh T·ªïng th·ªëng",
        "17:40‚Äì21:00 Gala t·∫°i K-Turtle, Seoul"
      ]},
    { day:"NG√ÄY 5 ‚Ä¢ 19/11 (Th·ª© T∆∞) ‚Äì Seoul ‚ñ∂ H√† N·ªôi",
      items:[
        "06:30‚Äì08:00 ƒÇn s√°ng & tr·∫£ ph√≤ng",
        "08:30‚Äì10:00 Th√°p Namsan",
        "10:00‚Äì11:00 L√†ng Hanok Namsan",
        "11:00‚Äì12:00 Qu√† l∆∞u ni·ªám",
        "12:00‚Äì13:30 ƒÇn tr∆∞a ‚Ä¢ 13:30‚Äì14:30 Ra s√¢n bay Incheon",
        "18:05‚Äì20:55 VN415 ICN‚ÜíHAN ‚Ä¢ L√†m th·ªß t·ª•c nh·∫≠p c·∫£nh N·ªôi B√†i"
      ]}
  ],
  menus: [
    { day:"15/11", sets:["S√°ng: Beef Rib Soup","Tr∆∞a: Beef Rib Soup","T·ªëi: Seafood Hotpot / Bulgogi"] },
    { day:"16/11", sets:["S√°ng: T·∫°i kh√°ch s·∫°n","Tr∆∞a: Shabu Shabu","T·ªëi: Grilled Chicken"] },
    { day:"17/11", sets:["S√°ng: T·∫°i kh√°ch s·∫°n","Tr∆∞a: Chicken Soup","T·ªëi: BBQ"] },
    { day:"18/11 (Gala)", sets:["T·ªëi Gala: soup, salad, mi·∫øn tr·ªôn, ƒë·ªì chi√™n, c√° s·ªët, g√† n∆∞·ªõng, bosam, s∆∞·ªùn h·∫ßm, c∆°m, b√°nh g·∫°o"] },
    { day:"19/11", sets:["S√°ng: T·∫°i kh√°ch s·∫°n","Tr∆∞a: Hajongsik"] },
  ],
  krinfo: [
    { k:"M√∫i gi·ªù", v:"H√†n Qu·ªëc GMT+9 (nhanh h∆°n VN 2 ti·∫øng)" },
    { k:"T·ª∑ gi√° tham kh·∫£o", v:"1.000 won ‚âà 18.289 VND" },
    { k:"Th·ªùi ti·∫øt", v:"10‚Äì19¬∞C, ƒë√™m c√≥ th·ªÉ 5¬∞C, hanh kh√¥" },
    { k:"Mang theo", v:"√Åo ·∫•m m·ªèng nhi·ªÅu l·ªõp, ƒë·ªì d∆∞·ª°ng ·∫©m, b√†n ch·∫£i/kem ƒë√°nh rƒÉng, ƒë·∫ßu chuy·ªÉn ch√¢n c·∫Øm tr√≤n 110/220V" },
    { k:"·ª®ng d·ª•ng", v:"Kakao Map, Kakao T, Papago" },
  ],
  phrases: [
    ["Xin ch√†o","ÏïàÎÖïÌïòÏÑ∏Ïöî","An-nhong-ha-s√™-y√¥"],
    ["C·∫£m ∆°n","Í∞êÏÇ¨Ìï©ÎãàÎã§","Kam-sa-ham-ni-t√†"],
    ["T·∫°m bi·ªát (b·∫°n ƒëi)","ÏïàÎÖïÌûà Í≥ÑÏÑ∏Ïöî","An-nhong-hi K√™-s√™-y√¥"],
    ["Xin l·ªói (c√≥ l·ªói)","Ï£ÑÏÜ°Ìï©ÎãàÎã§","Chu√™-s√¥ng-ham-ni-t√†"],
    ["Kh√¥ng ph·∫£i/Kh√¥ng","ÏïÑÎãàÏöî","A-ni-y√¥"],
    ["Nh√† v·ªá sinh ·ªü ƒë√¢u?","ÌôîÏû•Ïã§ Ïñ¥ÎîîÏòàÏöî","Hoa-trang-sil O-ti-y√™-y√¥?"],
    ["C√°i n√†y bao nhi√™u?","Ïù¥Í±∞ ÏñºÎßàÏòàÏöî?","I-ko √ìl-ma-y√™-y√¥?"],
    ["Cho t√¥i c√°i n√†y","Ïù¥Í±∞ Ï£ºÏÑ∏Ïöî","I-ko Chu-s√™-y√¥"],
    ["Ga t√†u ƒëi·ªán ng·∫ßm ·ªü ƒë√¢u?","ÏßÄÌïòÏ≤†Ïó≠ Ïñ¥ÎîîÏòàÏöî?","Chi-ha-ch√≥l-y√≥k O-ti-y√™-y√¥?"],
    ["T√≠nh ti·ªÅn gi√∫p","Í≥ÑÏÇ∞Ìï¥ Ï£ºÏÑ∏Ïöî","K√™-san-h√™ Chu-s√™-y√¥"],
  ]
};

/* RENDER */
const $=s=>document.querySelector(s);
const nav=$("#nav");
["Li√™n h·ªá","Bay","L·ªãch tr√¨nh","Th·ª±c ƒë∆°n","Th√¥ng tin","C√¢u n√≥i"].forEach((t,i)=>{
  const el=document.createElement("a");
  el.href=["#contacts","#","#itinerary","#menus","#krinfo","#phrases"][i];
  el.className="chip"+(i===0?" active":""); el.textContent=t; nav.appendChild(el);
});
const contactsWrap=$("#contacts");
const groupContacts=DATA.contacts.reduce((m,c)=>((m[c.group||"Kh√°c"]??=[]).push(c),m),{});
Object.entries(groupContacts).forEach(([g,list])=>{
  const card=document.createElement("div"); card.className="card";
  card.innerHTML=`<div class="k">${g||"Li√™n h·ªá"}</div>`+
    list.map(c=>`
      <div style="display:flex;justify-content:space-between;gap:10px;align-items:center;margin:10px 0">
        <div><div><strong>${c.name}</strong></div><div class="muted">${c.role||""}</div></div>
        <a class="btn" href="tel:${c.phone}">üì± ${c.phone}</a>
      </div>`).join("");
  contactsWrap.appendChild(card);
});
const itin=$("#itinerary");
DATA.itinerary.forEach(d=>{
  const card=document.createElement("div"); card.className="card";
  card.innerHTML=`<div class="k">${d.day}</div><ul style="margin:.5em 0 0 1em">${d.items.map(i=>`<li>${i}</li>`).join("")}</ul>`;
  itin.appendChild(card);
});
const menus=$("#menus");
DATA.menus.forEach(d=>{
  const card=document.createElement("div"); card.className="card";
  card.innerHTML=`<div class="k">Ng√†y ${d.day}</div><ul style="margin:.5em 0 0 1em">${d.sets.map(s=>`<li>${s}</li>`).join("")}</ul>`;
  menus.appendChild(card);
});
const kr=$("#krinfo");
const tbl=document.createElement("table"); tbl.className="table";
tbl.innerHTML="<tbody>"+DATA.krinfo.map(r=>`<tr><th>${r.k}</th><td>${r.v}</td></tr>`).join("")+"</tbody>";
kr.appendChild(tbl);
const phBody=document.querySelector("#phrases tbody");
DATA.phrases.forEach(r=>{
  const tr=document.createElement("tr");
  tr.innerHTML=`<td>${r[0]}</td><td class="mono">${r[1]}</td><td>${r[2]}</td><td><button class="btn" data-say="${r[1]}">üîä</button></td>`;
  phBody.appendChild(tr);
});
document.getElementById("q").addEventListener("input", e=>{
  const k=e.target.value.toLowerCase();
  document.querySelectorAll(".card, tbody tr").forEach(el=>{
    el.style.display = el.textContent.toLowerCase().includes(k) ? "" : "none";
  });
});
document.addEventListener("click", e=>{
  const btn=e.target.closest("button[data-say]"); if(!btn) return;
  if(!("speechSynthesis" in window)) return alert("Thi·∫øt b·ªã kh√¥ng h·ªó tr·ª£ ph√°t √¢m.");
  const u=new SpeechSynthesisUtterance(btn.dataset.say); u.lang="ko-KR"; u.rate=.95; u.pitch=1.05; speechSynthesis.speak(u);
});
document.getElementById("compactBtn").addEventListener("click", ()=>{
  document.querySelectorAll("details.acc").forEach((d,i)=>{ d.open = i<1 ? true : !d.open; });
});
let light=false;
document.getElementById("themeBtn").addEventListener("click", ()=>{
  light=!light;
  const set=(k,v)=>document.documentElement.style.setProperty(k,v);
  if(light){ set('--bg','#ffffff'); set('--card','#f6f7fb'); set('--text','#0f172a'); set('--muted','#5b6b7e'); }
  else{ set('--bg','#0A1420'); set('--card','#0F1E30'); set('--text','#EAF2FF'); set('--muted','#93a4b8'); }
});

/* PWA: register service worker */
if('serviceWorker' in navigator){
  window.addEventListener('load', async ()=>{
    try{
      const reg = await navigator.serviceWorker.register('./sw.js');
      console.log('SW registered', reg.scope);
    }catch(e){ console.warn('SW failed', e); }
  });
}

/* Install prompt (Android Chrome) */
let deferredPrompt;
window.addEventListener('beforeinstallprompt', (e)=>{
  e.preventDefault(); deferredPrompt=e;
  const btn=document.getElementById('installBtn'); btn.hidden=false;
  btn.onclick=async()=>{ try{ await deferredPrompt.prompt(); }catch{} finally{ deferredPrompt=null; btn.hidden=true; } };
});
window.addEventListener('appinstalled', ()=>{
  document.getElementById('installBtn').hidden = true;
});

/* Offline CTA (force load to get SW control) */
document.getElementById("offlineBtn").addEventListener("click", ()=>location.reload());
</script>
</body>
</html>
